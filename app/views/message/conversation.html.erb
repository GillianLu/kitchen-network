<div class="flex flex-col min-h-screen w-full">
    <div class="h-full w-full pt-20">
        <div class='pb-5 h-full w-full'>
            <div class = 'px-5 pb-5'>
                <%= @conversation_user.first_name %> <%= @conversation_user.last_name %>
            </div>
            <div class = 'w-full h-full px-5 py-5 flex flex-col'>
                <div class = 'grow flex flex-col'>
                    <% @message.each do | mess | %>
                        <% if mess.message_sender_id != current_user.id %>
                            <div class = 'flex py-2'>
                                <div class = 'bg-linen rounded-lg w-fit p-2'>
                                    <%= mess.content %>
                                </div>
                            </div>
                        <% else %>
                            <div class = 'flex justify-end py-2'>
                                <div class = 'bg-lightorange rounded-lg w-fit p-2'>
                                    <%= mess.content %>
                                </div>
                            </div>
                        <% end %>
                    <% end %>
                </div>
                <div class="flex">
                    <%= form_with(model: @new_message, url: message_index_path) do |form| %>

                        <div class="field">
                            <%= form.text_area :content %>
                        </div>

                        <%= form.hidden_field :message_receiver_id, value: @conversation_user.id %>

                        <div class="actions">
                            <%= form.submit %>
                        </div>
                    <% end %>
                </div>
            </div>
        </div>
    </div>
</div>
